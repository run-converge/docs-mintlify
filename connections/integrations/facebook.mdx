---
title: "Meta"
description: "An introduction to the Meta/Facebook Ads Destination"
---

import { Icon, IconText } from '/snippets/icons.mdx';
import { OutboundLink } from '/snippets/links.mdx';

## Overview
Connection Type: <IconText text="Client-side" name="browser" iconType="duotone" iconLocation="after"/>  and <IconText text="Server-side" name="server" iconType="duotone" iconLocation="after"/>
- Includes support for the <OutboundLink linkText="Facebook Conversions API" linkTarget="https://www.facebook.com/business/help/2041148702652965"/> 

--- 

## Installation Instructions


1. Navigate to your [Facebook Events Manager](https://business.facebook.com/events_manager2).

2. From your Events Manager, **click on the Facebook Pixel** you would like to connect.

3. In the Facebook Pixel menu, choose the **Settings** subtab.

4. From this subtab, you can find your **Pixel ID**, and copy it -- you will need it in a later step.

<Warning>
  Ensure that the **Track events automatically without code** setting is turned off in the **Event Setup** subtab.
  This can lead to over-reporting of events and incorrect conversion values.
</Warning>

5. Scroll down in the Settings subtab until you find **Generate access token**, and click on it. Copy this token as well.

6. In your Converge dashboard, under Connections, click <IconText name="circle-plus" text="Create New Connection" iconLocation="before" iconType="regular"/ >.

7. Give your connection an appropriate name (e.g. `Facebook Connection | {YOUR_PIXEL_ID}`) and **choose the Facebook App**.

8. Paste in the Pixel ID you acquired in the earlier step in the **Pixel ID** field. Paste in the access token you acquired earlier in the **Access Token** field.

9. Fill in your homepage domain name in the **Your Domain name** field, it does not need to include `https://`.

10. Click on **Create Connection**

<Warning> Once you have installed your Converge Connection, you should **pause or remove all existing Facebook tracking**. Leaving these on will lead to duplicate tracking.  Check the [Turn off your old tracking setup](/guides/turn-off-tracking#facebook-meta) guide for additional instructions. </Warning>

---

## Converge functionality

This integration supports the following Converge connection functionality.

| Converge Feature        |       Supported       |
| :---------------------- | :-------------------: |
| Custom Events           | <Icon name="check" /> |
| Filters                 | <Icon name="check" /> |
| Server-side Conversions | <Icon name="check" /> |

--- 

## FAQ

<AccordionGroup>
<Accordion title="Why do I see a Duplicate Pixel ID warning in my console?">
  If you are a Shopify store, Converge needs to load both a `theme.liquid` pixel and a Shopify Custom Pixel to track reliably. 
  See the [FAQ in the Shopify Integration](/sources/website-integrations/shopify#faq) for more detailed information.

  Converge makes sure that no duplicate events get sent, even though the Facebook Pixel needs to be loaded in two separate places for complete event coverage. 

  <Note> If you are not using the Shopify Web integration, you might have an old pixel installed using a different tracking method, and you should turn this one off.</Note>
</Accordion>

<Accordion title='Why do I see "increase coverage"-warnings in my Events Manager?'>
<Frame>
![increase-coverage](/images/connections/facebook/facebook-increase-coverage.png)
</Frame>

Meta is warning you here that not all of your events are receiving identifiable information (e.g. `email`).
Ideally, Facebook would have an email for every Added To Cart that ever happens on your website so they can easily attribute it.

However, many people on the website are anonymous (they have never given their email to your store and thus Converge cannot track it). If the user never gives their email or address, then we can never send that email back.
**Converge sends as many of these parameters as there are available**.

The only events where you would expect a very high email match rate are events where the user always has to give an email (e.g. `purchase`). 
**For all events where certain parameters are not always available** (e.g. you do not expect all `AddToCart` or an `InitiateCheckout` to have an `email`), **you can safely ignore this warning**.
</Accordion>

<Accordion title='Why is my Click ID (fbc) percentage low?' open defaultOpen>
<Frame>
![Facebook Click ID (fbc)](/images/connections/facebook/facebook-click-id.png)
</Frame>

When inspecting the Event match quality score in Meta Events Manager, it's common to see a low percentage for the `Click ID (fbc)` parameter. In most cases this is an expected value given how the `fbc` parameter works.

The `Click ID (fbc)` is a parameter generated by Meta that is added to the URLs of your ads and used by Meta to track and identify events and conversions. See <OutboundLink linkText="ClickID and the fbp and fbc Parameters" linkTarget="https://developers.facebook.com/docs/marketing-api/conversions-api/parameters/fbp-and-fbc/"/> for additional information.

In an extreme scenario where all of your visitors arrive from a Meta ad, the `Click ID (fbc)` parameter would be present in 100% of your events.

Not all your traffic will originate from Meta though. Users can reach your store through, for example, search engines, other ad platforms or even directly. This traffic will not contain the `fbc` parameter in the URL, given that it is exclusive to Meta ads.

Given that, considering another extreme scenario where none of your traffic originates from Meta ads, it's expected that `Click ID (fbc)` would be zero.

Overall, you should expect the percentage of `Click ID (fbc)` to be directly related to the percentage of traffic your store receives that originate from Meta ads.

In summary, if your store use multiple marketing channel with no particular focus on Meta, it's expected to see low percentages for the `Click ID (fbc)` parameter. On the other hand, if your store relies heavily on Meta, with a majority of your traffic coming through it, you should expect higher percentages.
</Accordion>

<Accordion title="How do I use the NewCustomerPurchase event?">
  Converge automatically sends the `NewCustomerPurchase` event to Facebook. To start using it for reporting and optimization, you need to create a custom conversion in Facebook Events Manager.

  We have a guide on setting up this custom event in the Meta Ads Manager [here](/guides/set-up-nc-purchase).
</Accordion>

<Accordion title='Why do I see "update recommended"-warnings about IPv6 addresses in the Events Manager?'>

<Frame>
![update-recommended](/images/connections/facebook/facebook-update-recommended.png)
</Frame>

 Meta asks you to send an IP Address as part of the Event Matching parameters when you send over events. 
 There are currently two versions of IP addresses in use: IPv4, and IPv6. 

 Both are still widely in use, but the IPv6 standard is newer, hence why Meta flags that it is still receiving IPv4 addresses. 
**Converge supports IPv6 and is sending IPv6 addresses whenever they are available.** 
 
 However, **there is not always an IPv6 address available -- in that case, Converge sends the IPv4 address instead**. The IP address version is dependent on the customer's browser and network configuration. 
 So if the customer's network configuration and browser only support IPv4, then Converge will need to send an IPv4 address as well.
 
 Note that Meta does accept IPv4 addresses, it just wants to make sure that all advertisers support IPv6 as well. 
 Therefore, **you can safely ignore this warning**.

</Accordion>
<Accordion title="The Facebook Ads manager is over-reporting conversions and/or the conversion value is wrong.">
  Confirm the following steps to troubleshoot.
  - The Facebook pixel is correctly configured. When the Facebook **Automatic Events** are enabled, Facebook tracks purchases automatically across your website -- typically with a wrong AOV. This is a common source of over-reporting. You can turn this off in the Facebook Events Manager under **Settings** > **Event setup** > **Track events automatically without code**.
  - Converge is the only active Facebook integration. In the Converge connection logs, you can recognize it as **External** pixel events. Make sure all other Facebook tracking integrations other than Converge are turned off see [here](/guides/turn-off-tracking). 
  - Converge tracks the correct number of `Placed Order` events. Compare the **Attribution** > **Orders** numbers with your backend.
  - The correct dataset is linked to your Facebook ads. The dataset ID should match your Converge connection configuration.

  If none of the above provides a solution to your problem, have a closer look at the **Facebook Events Manager**.
  Verify the Purchase event by having a look at the number of events arriving from the server and browser, and the sampled activities.
</Accordion>
</AccordionGroup>

---

## Event Mapping

Converge automatically maps the following events from the [Converge Event Spec](/sources/converge-spec) to the Meta spec.

| Converge Event Name                                                                               | Meta Event Name                         |
| ------------------------------------------------------------------------------------------------- | --------------------------------------- |
| [$page_load](/sources/converge-spec#page-load)                                                    | `PageView`                              |
| [Viewed Product](/sources/converge-spec#viewed-product)                                           | `ViewContent`                           |
| [Viewed Collection](/sources/converge-spec#viewed-collection)                                     | `ViewContent`                           |
| [Added To Cart](/sources/converge-spec#added-to-cart)                                             | `AddToCart`                             |
| [Started Checkout](/sources/converge-spec#started-checkout)                                       | `InitiateCheckout`                      |
| [Added Payment Info](/sources/converge-spec#added-payment-info)                                   | `AddPaymentInfo`                        |
| [Placed Order](/sources/converge-spec#placed-order)                                               | `Purchase`                              |
| [Started Subscription](/sources/converge-spec#started-subscription)                               | `Subscribe`                             |
| [Placed Recurring Subscription Order](/sources/converge-spec#placed-recurring-subscription-order) | `RecurringSubscriptionPaymentSucceeded` |
| [Cancelled Subscription](/sources/converge-spec#cancelled-subscription)                           | `CancelSubscription`                    |

This integration also auto-tracks some additional events that are not part of the Meta Base Spec but are so heavily requested that we automatically forward them.

| Converge Event Name                                                       | Meta Event Name       |
| ------------------------------------------------------------------------- | --------------------- |
| [Placed Order](/sources/converge-spec#placed-order)  (New Customers Only) | `NewCustomerPurchase` |
|                                                                           |                       |
